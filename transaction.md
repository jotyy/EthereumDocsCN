---
description: Ethereum transactions
---

# 交易

**交易**是来自账户的加密签名指令。一个账户通过发起交易来更新以太坊网络的状态。最简单的交易类型就是将ETH从一个账户转入另一个账户。

## 什么是交易？

一次以太坊交易指的是外部持有账户发起的一次行为，换句话说，是发生在人管理的账户中，而非合约账户。

所有交易都是更改EVM状态的事务，需要广播到整个网络。任何节点都可以广播要在EVM上执行交易的请求；发生这种情况后，矿工将执行交易并将结果状态更改传播到网络的其余部分。

交易需要付费，并且必须开采才能生效。为了简化此概述，我们将在其他地方介绍gas费用和采矿费用。

每个被提交的交易应包含以下信息：

* `recipient` - 接收地址
* `signature`- 发送者签名。由发送者私钥对交易签名生成，用于确认发送者
* `value` - ETH数额
* `data` - 可选项，包含任意数据
* `gasLimit` - 交易可消耗的最大gas单位
* `gasPrice` - gas费用

Gas指的是矿工处理交易所需要的计算，用户需要为此计算付费。gasLimit和gasPrice决定了支付给矿工的最高交易费用。

交易对象：

```javascript
{
  from: "0xEA674fdDe714fd979de3EdF0F56AA9716B898ec8",
  to: "0xac03bb73b6a9e108530aff4df5077c2b3d481e5a",
  gasLimit: "21000",
  gasPrice: "200",
  nonce: "0",
  value: "10000000000",
}
```

已签名交易对象：

```javascript
{
  "jsonrpc": "2.0",
  "id": 2,
  "result": {
    "raw": "0xf88380018203339407a565b7ed7d7a678680a4c162885bedbb695fe080a44401a6e4000000000000000000000000000000000000000000000000000000000000001226a0223a7c9bcf5531c99be5ea7082183816eb20cfe0bbc322e97cc5c7f71ab8b20ea02aadee6b34b45bb15bc42d9c09de4a6754e7000908da72d48cc7704971491663",
    "tx": {
      "nonce": "0x0",
      "gasPrice": "0x1234",
      "gas": "0x55555",
      "to": "0x07a565b7ed7d7a678680a4c162885bedbb695fe0",
      "value": "0x1234",
      "input": "0xabcd",
      "v": "0x26",
      "r": "0x223a7c9bcf5531c99be5ea7082183816eb20cfe0bbc322e97cc5c7f71ab8b20e",
      "s": "0x2aadee6b34b45bb15bc42d9c09de4a6754e7000908da72d48cc7704971491663",
      "hash": "0xeba2df809e7a612a0a0d444ccfa5c839624bdc00dd29e3340d46df3870f8a30e"
    }
  }
}
```

* `raw`是已签名交易的RLP编码格式
* `tx`是已签名交易的JSON格式

## 交易生命周期

提交交易后，将会发生以下事件：

1. 当你发送一次交易，通过密码学生成交易hash:

   `0x97d99bc7729211111a21b12c933c949d4f31684f1d6954ff477d0477538ff017`

2. 之后，该交易将广播到网络，并与许多其它的交易被包含在池中
3. 矿工必须选择你的交易并将其包含在区块中，以便验证交易并认为“交易成功”。
   * 如果网络繁忙并且矿工无法连上，你可能会在这个阶段等待。矿工会始终优先处理gasPrice更高的交易，因为他们会得到收益。
4. 你的交易会获得一个区块认证数，这个数是从你的交易包含在区块中之后创建的区块数。数字越大，网络处理和识别交易的确定性就越高。这是因为又是你的交易所包含的区块可能尚未进入链中。
   * 区块认证数越大，交易越不可变；因此，更高价值的交易需要更多的区块来确认。

