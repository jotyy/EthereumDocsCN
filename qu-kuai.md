---
description: Blocks
---

# 区块

**区块**是具有链中前一个区块的hash值的交易块。这些块链接在一起形成一个链，因为hash值是从块数据中加密得到的。

基于这种方式，可以防止对数据造假，因为每一个块的修改历史都将使后续的块无效，因为所有后续的hash值都会改变，并且所有运行区块链的人都会知晓。

### 为什么引入区块？

为了确保以太坊网络上所有的参与者都保持同步状态，并且就交易的确切历史达成共识，我们将交易分为多个区块。这意味着成百上千个交易一次性被提交、约定并同步。

![](https://ethereum.org/static/85d784391401f89209d3bcc51e0ea677/302a4/tx-block.png)

通过间隔提交，我们为所有网络参与者们提供了足够的时间来达成共识；即使交易请求每秒发生数十次，但以太坊上的区块一直保持在大约15秒提交一次。

### 区块是如何运作的？

为了保留交易记录，区块被严格的进行排序（每个新区块都包含了对其父块的引用），并且对块内的交易也进行了严格排序；除极少数情况外，在任何给定时间，网络上所有的参与者都同意区块的确切数量和历史记录，并正将当前的实时交易请求分配到下一个区块。

一旦区块被一些矿工挖掘出来，它就会传播到网络的其它地方；所有节点都将此块添加到区块链的末尾，并继续向下挖掘。当前，以太坊的“Proof of work”（工作证明）协议制定了正确的块挖掘过程和提交/认证过程。

### Proof of Work Protocal 工作证明协议

工作证明包含以下内容：

* 挖矿节点必须花费可变但大量的能量、时间和算力，才能为其产出的区块生成“合法性证明”。这有助于保护网络免受垃圾信息攻击，因为证书的制作成本很高。
* 其它矿工必须将新区块作为下一个区块的父块
* 任何给定矿工生产此证书所需的确切时间是具有高方差的随机变量。这确保了两个矿工不太可能同时针对提议的下一个区块进行验证。当矿工生产并传播经过认证的新区块时，他们几乎可以确定该区块将被网络接受为区块链上的规范下一个区块，而不会发生冲突（尽管在协议中也有处理冲突的协议几乎同时生产两个认证区块链的情况）

### 区块中包含什么？

* Timstamp - 区块被挖掘出来的时间点
* Block number - 区块链的长度
* Diffculty - 挖掘区块的难度
* mixHash - 区块唯一标识符
* A parent hash - 父块hash值
* Transaction list - 区块包含的交易记录
* State root - 系统的总体状态
* Nonce - hash值，与mixHash结合使用可以证明该区块以通过证明的工作量

### 区块大小

最后一点要说明是，区块本身的大小是有限的。每个区块都有一个由网络和矿工共同设置的区块gasLimit：区块中所有交易消耗的gas总量必须小于区块的gasLimit。这很重要，因为它可以确保区块不能太大。如果区块可以任意大，那么由于空间和速度的要求，性能较低的完整节点将逐渐无法跟上网络。区块0的gasLimit被初始化为5,000；任何开采新区块的矿工都可以从父区块的瓦斯限制中的任一方向将瓦斯限制最多改变约0.1％。截至2018年11月，gasLimit目前在8,000,000左右。  


